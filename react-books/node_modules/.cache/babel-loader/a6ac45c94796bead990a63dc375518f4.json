{"ast":null,"code":"import _classCallCheck from\"/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import superagent from'superagent';import React from'react';import InsertForm from'../InsertForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Appp=/*#__PURE__*/function(_React$Component){_inherits(Appp,_React$Component);var _super=_createSuper(Appp);function Appp(props){var _this;_classCallCheck(this,Appp);_this=_super.call(this,props);_this.state={data:[]};_this.reloadData=_this.reloadData.bind(_assertThisInitialized(_this));return _this;}_createClass(Appp,[{key:\"reloadData\",value:function reloadData(){var _this2=this;superagent.get('http://localhost:9000/get-books').then(function(msg){_this2.setState({data:msg.body});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.reloadData();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Books list\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[\" \",this.state.data.map(function(book){return/*#__PURE__*/_jsxs(\"li\",{children:[book.title,\" (\",book.author,\")\"]});})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Save book\"}),/*#__PURE__*/_jsx(InsertForm,{onSave:this.reloadData})]});}}]);return Appp;}(React.Component);export default Appp;","map":{"version":3,"sources":["/home/dinhnghia/Desktop/web_blog_ofme/management-book-app/react-books/src/components/Appp/index.jsx"],"names":["superagent","React","InsertForm","Appp","props","state","data","reloadData","bind","get","then","msg","setState","body","margin","map","book","title","author","Component"],"mappings":"uwBAAA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,C,2FAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAAb,CAGA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CALe,aAMlB,C,2CACD,qBAAa,iBACTR,UAAU,CAACS,GAAX,CAAe,iCAAf,EAAkDC,IAAlD,CAAuD,SAAAC,GAAG,CAAI,CAC1D,MAAI,CAACC,QAAL,CAAc,CAAEN,IAAI,CAAEK,GAAG,CAACE,IAAZ,CAAd,EACH,CAFD,EAIH,C,iCAED,4BAAoB,CAChB,KAAKN,UAAL,GACH,C,sBAED,iBAAS,CACL,mBAAO,aAAK,KAAK,CAAE,CAAEO,MAAM,CAAE,MAAV,CAAZ,wBAEH,oCAEI,kCAFJ,cAII,0BACK,KAAKT,KAAL,CAAWC,IAAX,CAAgBS,GAAhB,CAAoB,SAAAC,IAAI,CAAI,CACzB,mBAAO,sBAAKA,IAAI,CAACC,KAAV,MAAmBD,IAAI,CAACE,MAAxB,OAAP,CACH,CAFA,CADL,GAJJ,GAFG,cAaH,iCAbG,cAgBH,KAAC,UAAD,EAAY,MAAM,CAAE,KAAKX,UAAzB,EAhBG,GAAP,CAmBH,C,kBAvCcN,KAAK,CAACkB,S,EA0CzB,cAAehB,CAAAA,IAAf","sourcesContent":["import superagent from 'superagent';\nimport React from 'react';\nimport InsertForm from '../InsertForm'\n\nclass Appp extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        };\n        this.reloadData = this.reloadData.bind(this);\n    }\n    reloadData() {\n        superagent.get('http://localhost:9000/get-books').then(msg => {\n            this.setState({ data: msg.body });\n        });\n\n    }\n\n    componentDidMount() {\n        this.reloadData();\n    }\n\n    render() {\n        return <div style={{ margin: '20px' }}>\n\n            <div >\n\n                <h2>Books list</h2>\n\n                <ul> {/* Itero tutti i libri ricevuti dal server e genero dei <li /> */}\n                    {this.state.data.map(book => {\n                        return <li>{book.title} ({book.author})</li>\n                    })}\n                </ul>\n            </div>\n\n            <h2>Save book</h2>\n\n            {/* Insert the component defined above and, in case of saving update the book list  */}\n            <InsertForm onSave={this.reloadData} />\n\n        </div>;\n    }\n}\n\nexport default Appp;"]},"metadata":{},"sourceType":"module"}